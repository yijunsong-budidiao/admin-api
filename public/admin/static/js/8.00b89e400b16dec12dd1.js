webpackJsonp([8],{"9qU1":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("Dd8w"),a=i.n(o),r=i("NYxO"),l={props:["info"],computed:a()({},Object(r.d)({topMenuList:function(t){return t.menu.menuList}})),data:function(){return{formData:{id:0,pid:0,title:"",icon:"",type:1,url:"",status:1},rules:{title:{required:!0,message:"请输入菜单标题",trigger:"blur"},type:{required:!0,message:"请输入选择类型",trigger:"blur"},status:{required:!0,message:"请输选择状态",trigger:"blur"}}}},methods:{submitForm:function(){var t=this;this.$refs.addForm.validate(function(e){if(e){var i=t.formData.id>0?"/menuedit":"/menuadd";t.$http.post(i,t.formData).then(function(e){200===e.code?(t.$message({type:"success",message:e.msg}),t.$emit("updateList"),t.resetInfo()):t.$message({type:"error",message:e.msg})})}})},resetInfo:function(){this.info.isShow=!1,this.formData={id:0,pid:0,title:"",icon:"",type:1,url:"",status:1}},setFormData:function(t){this.formData=a()({},t)}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.formData.id>0?"编辑":"新增",visible:t.info.isShow},on:{close:t.resetInfo,"update:visible":function(e){return t.$set(t.info,"isShow",e)}}},[i("el-form",{ref:"addForm",attrs:{"label-width":"100px",model:t.formData,rules:t.rules}},[i("el-form-item",{attrs:{label:"类型",prop:"type"}},[i("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[i("el-radio",{attrs:{label:1}},[t._v("目录")]),t._v(" "),i("el-radio",{attrs:{label:2}},[t._v("菜单")])],1)],1),t._v(" "),2===t.formData.type?i("el-form-item",{attrs:{label:"上级",prop:"pid"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.pid,callback:function(e){t.$set(t.formData,"pid",e)},expression:"formData.pid"}},[i("el-option",{attrs:{label:"顶级菜单",value:0}}),t._v(" "),t._l(t.topMenuList,function(t){return i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})],2)],1):t._e(),t._v(" "),i("el-form-item",{attrs:{label:"名称",prop:"title"}},[i("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),t._v(" "),1===t.formData.type?i("el-form-item",{attrs:{label:"图标",prop:"icon"}},[i("el-input",{attrs:{placeholder:"请输入图标"},model:{value:t.formData.icon,callback:function(e){t.$set(t.formData,"icon",e)},expression:"formData.icon"}})],1):t._e(),t._v(" "),2===t.formData.type?i("el-form-item",{attrs:{label:"地址",prop:"url"}},[i("el-input",{attrs:{placeholder:"请输入地址"},model:{value:t.formData.url,callback:function(e){t.$set(t.formData,"url",e)},expression:"formData.url"}})],1):t._e(),t._v(" "),i("el-form-item",{attrs:{label:"状态",prop:"status"}},[i("el-radio-group",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[i("el-radio",{attrs:{label:1}},[t._v("正常")]),t._v(" "),i("el-radio",{attrs:{label:2}},[t._v("禁用")])],1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.info.isShow=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};var s={components:{Dialog:i("VU/8")(l,n,!1,function(t){i("uFhG")},null,null).exports},data:function(){return{info:{isShow:!1}}},computed:a()({},Object(r.d)({menuList:function(t){return t.menu.menuList}})),methods:a()({},Object(r.b)("menu",["getMenuListAction"]),Object(r.c)("menu",["menuListInit"]),{updateList:function(){this.getMenuListAction()},edit:function(t){this.$refs.dialog.setFormData(t),this.info.isShow=!0},del:function(t){var e=this;this.$myConfirm(function(){e.$http.post("/menudelete",{id:t}).then(function(t){200===t.code&&(e.$success(t.msg),e.menuListInit(t.list))})})}}),created:function(){this.getMenuListAction()}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",[i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(e){t.info.isShow=!0}}},[t._v("新增")]),t._v(" "),i("el-divider"),t._v(" "),i("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.menuList,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[i("el-table-column",{attrs:{prop:"id",label:"Id","min-width":"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"title",label:"菜单名称","min-width":"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"icon",label:"图标","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("i",{class:t.row.icon})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"url",label:"地址","min-width":"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?i("el-tag",{attrs:{type:"success"}},[t._v("正常")]):i("el-tag",{attrs:{type:"danger"}},[t._v("禁用")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"success",circle:"",size:"mini",icon:"el-icon-edit"},on:{click:function(i){return t.edit(e.row)}}}),t._v(" "),i("el-button",{attrs:{type:"danger",circle:"",size:"mini",icon:"el-icon-delete"},on:{click:function(i){return t.del(e.row.id)}}})]}}])})],1),t._v(" "),i("Dialog",{ref:"dialog",attrs:{info:t.info},on:{updateList:t.updateList}})],1)},staticRenderFns:[]};var c=i("VU/8")(s,u,!1,function(t){i("Q7sf")},null,null);e.default=c.exports},Q7sf:function(t,e){},uFhG:function(t,e){}});
//# sourceMappingURL=8.00b89e400b16dec12dd1.js.map